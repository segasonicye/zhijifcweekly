# 知己足球俱乐部 - 新版战报流程

## 🎉 优化后的完整流程

### 步骤1: 创建战报
```bash
npm run update
```

### 步骤2: 输入比赛信息
系统会询问:
- 📅 比赛日期 (如: 2026-01-18)
- ⚔️ 对手名称
- 🔢 比分
- 📍 比赛地点
- 👥 出勤人员

### 步骤3: 自动创建照片文件夹 ✨
系统会自动创建:
```
photos/2026-01-18/    ← 文件夹已为你准备好!
```

### 步骤4: 放入照片
将比赛照片放入刚创建的文件夹:
```
photos/2026-01-18/
  ├── photo1.jpg
  ├── photo2.jpg
  └── photo3.jpg
```

### 步骤5: 添加照片到战报 (可选)
回到命令行,输入 `y` 继续:
```bash
照片已放入文件夹,是否继续添加照片到战报? (y/n): y
```

系统会:
1. 列出刚创建的比赛
2. 显示 `photos/2026-01-18/` 中的所有照片
3. 询问是否全部添加或选择添加
4. (可选) 为照片添加说明

### 步骤6: 生成HTML并部署
系统自动生成HTML,然后询问:
```bash
是否立即推送到GitHub? (y/n): y
```

完成! Netlify自动部署! 🎉

---

## 📊 完整示例

```bash
$ npm run update

=== 创建新战报 ===

请输入比赛日期 (YYYY-MM-DD, 如 2025-01-12): 2026-01-18
请输入对手名称: 三海风
请输入比分 (如 3-2, 如未比赛可留空): 4-3
请输入比赛地点 (如: 朝阳公园): 福沁球场
自动生成标题: "2026-01-18 三海风 4-3", 是否修改? (直接回车使用默认):

请输入出勤人员 (用逗号或空格分隔):
人员: 小王,小李,小张

--- 确认信息 ---
日期: 2026-01-18
对手: 三海风
比分: 4-3
地点: 福沁球场
出勤: 小王,小李,小张
标题: 2026-01-18 三海风 4-3
----------------

确认创建? (Y/n):

✅ 战报已创建: 2026-01-18三海风.md

📸 照片文件夹已创建: photos/2026-01-18/
💡 请将照片放入该文件夹，然后运行: npm run add-photos

✅ 战报创建完成!

📸 照片文件夹已自动创建,请将照片放入对应文件夹

照片已放入文件夹,是否继续添加照片到战报? (y/n):
[暂停,等待你放入照片]

# 放入照片后,输入 y 继续
y

=== 添加照片到战报 ===

📋 可用的比赛记录:

  1. 2026-01-18 三海风
  2. 2026-01-09 内战
  3. 2026-01-03 党校队
  ...

请输入比赛编号 (1-3): 1

📖 已选择: 2026-01-18 三海风

📸 找到 5 张照片:

  1. photo1.jpg
  2. photo2.jpg
  3. photo3.jpg
  4. photo4.jpg
  5. photo5.jpg

是否添加所有照片? (y/n, 默认y):

是否为照片添加说明? (y/n, 默认n):

✅ 成功添加 5 张照片到 2026-01-18三海风.md

🌐 步骤 3/3: 生成HTML页面

✅ 页面已生成
✅ 索引页面已生成

是否立即推送到GitHub? (y/n): y

🚀 正在推送到GitHub...
✅ 推送成功!

🌐 Netlify正在自动部署中...
大约1-2分钟后你的网站将会更新!

✨ 全部完成!
```

---

## 💡 关键改进

### 之前:
1. 创建战报
2. 手动创建文件夹 `photos/2026-01-18/`
3. 放入照片
4. 运行 `npm run add-photos`

### 现在:
1. 创建战报 → **自动创建照片文件夹** ✨
2. 放入照片
3. 继续同一流程添加照片

**省去手动创建文件夹的步骤!**

---

## 🎯 工作流程对比

### 方式1: 一键更新 (推荐)
```bash
npm run update
# 输入信息 → 放入照片 → 添加照片 → 推送
```

### 方式2: 分步操作
```bash
npm run new              # 1. 创建战报(自动创建文件夹)
# 放入照片到 photos/YYYY-MM-DD/
npm run add-photos       # 2. 添加照片
npm run matches          # 3. 生成HTML
git push                 # 4. 推送
```

---

## 📁 文件结构

创建战报后自动生成:
```
matches/
└── 2026-01-18三海风.md     ← 战报文件

photos/
└── 2026-01-18/              ← 照片文件夹(自动创建)
    ├── photo1.jpg
    ├── photo2.jpg
    └── photo3.jpg

output/                       ← 生成HTML时自动创建
```

---

## ⚡ 快速提示

### Q: 如果忘记放入照片怎么办?
A: 随时可以运行:
```bash
npm run add-photos
```

### Q: 可以稍后再添加照片吗?
A: 可以!照片文件夹已经创建好,随时可以放入照片然后运行添加命令。

### Q: 照片文件夹路径在哪里?
A: 在项目根目录下的 `photos/YYYY-MM-DD/`

---

## 🎉 总结

新的流程:
1. ✅ **自动创建**照片文件夹
2. ✅ **提示清晰**下一步操作
3. ✅ **流程顺畅**无需切换
4. ✅ **一键完成**从创建到部署

**核心命令:**
```bash
npm run update
```

就这么简单! 🚀
