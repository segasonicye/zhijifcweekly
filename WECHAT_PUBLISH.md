# 微信公众号发布指南

## 🚀 快速开始

### 最常用的命令

```bash
# 1. 查看所有比赛
npm run wechat:latest

# 2. 生成最新比赛
npm run wechat

# 3. 生成指定日期比赛
npm run wechat:date 2026-01-01

# 4. 交互式选择比赛
npm run sync
```

---

## 📝 完整发布流程

### Step 1: 生成文章

```bash
npm run wechat
```

这会自动：
- ✅ 找到最新比赛
- ✅ 生成HTML文章
- ✅ 自动加载照片
- ✅ 在浏览器中打开预览

### Step 2: 复制内容

1. 在浏览器中查看效果
2. 按 `Ctrl + A` 全选
3. 按 `Ctrl + C` 复制

### Step 3: 粘贴到公众号

1. 打开 https://mp.weixin.qq.com/
2. 点击"新建图文"
3. 按 `Ctrl + V` 粘贴

### Step 4: 插入图片

#### Logo插入
1. 找到顶部的 `[在此处插入Logo图片 - 尺寸: 150px x 150px]`
2. 删除这行文字
3. 点击工具栏"图片"按钮
4. 上传 `logo-150.png`
5. 调整为圆形（可选）

#### 比赛照片
1. 找到 `[照片]` 或图片文件名
2. 点击"图片"按钮
3. 上传对应照片
4. 重复直到所有照片插入完成

### Step 5: 预览和发布

1. 点击"预览"查看效果
2. 确认无误后点击"保存"
3. 点击"发布"

---

## 🎨 样式说明

### 已包含的样式

- ✅ **Logo区域**：顶部居中，150x150px圆形
- ✅ **比赛信息卡片**：紫色渐变 (#667eea → #764ba2)
- ✅ **MVP展示**：粉色渐变 (#f093fb → #f5576c)
- ✅ **正文内容**：行高1.8，灰色文字
- ✅ **出勤名单**：左侧紫色边框，浅蓝背景
- ✅ **精彩瞬间**：白色卡片，渐变标题
- ✅ **页脚**：紫色渐变，感谢文字

### 颜色主题

- **主色调**：紫色渐变
- **强调色**：粉色渐变（MVP）
- **背景色**：浅灰蓝渐变
- **文字色**：深灰色 (#555, #4a4a6a)

---

## 📸 照片管理

### Logo文件

- **logo-150.png** (150x150px) - 公众号专用 ✨
- **logo-200.png** (200x200px) - 高清版本
- **logo.png** - 原始文件

### 比赛照片

照片存放在 `photos/YYYY-MM-DD/` 目录：
```
photos/
├── 2026-01-01/
│   ├── mmexport1768269710364.jpg
│   ├── mmexport1768269712307.jpg
│   └── ...
├── 2026-01-03/
│   └── ...
└── 2026-01-09/
    └── photo-001.jpg
```

### 照片命名建议

- **比赛照片**：使用有意义的名称
  - `photo-001.jpg`
  - `赛后合影.jpg`
  - `进球瞬间.jpg`

- **避免使用**：过长或特殊字符的文件名

---

## ⚙️ 高级功能

### 批量生成

```bash
# 查看所有比赛
npm run wechat:latest

# 生成指定比赛（按序号）
node scripts/wechat-workflow.js 1

# 生成指定比赛（按日期）
node scripts/wechat-workflow.js 2026-01-01
```

### 模板自定义

编辑 `scripts/wechat-template.js` 可修改：
- 颜色主题
- 间距大小
- 字体样式
- 布局结构

### 快捷键总结

| 操作 | 快捷键 |
|------|--------|
| 全选 | Ctrl + A |
| 复制 | Ctrl + C |
| 粘贴 | Ctrl + V |
| 预览 | 公众号编辑器"预览"按钮 |

---

## 💡 常见问题

### Q: Logo不显示怎么办？
A:
1. 确保上传了 `logo-150.png`
2. 在公众号编辑器中手动插入
3. 不要使用HTML中的 `file:///` 路径

### Q: 图片太大怎么办？
A:
1. 使用 `logo-150.png` 而非原始 `logo.png`
2. 照片会自动调整为最大宽度600px
3. 可使用图片编辑工具压缩照片

### Q: 如何修改样式？
A:
1. 编辑 `scripts/wechat-template.js`
2. 重新运行 `npm run wechat:date YYYY-MM-DD`
3. 所有新文章都会使用新样式

### Q: 如何添加出勤名单？
A:
在比赛文件的 frontmatter 中添加：
```yaml
attendance:
  - 球员1
  - 球员2
  - 球员3
```

---

## 📊 数据统计建议

定期统计：
- 每月发布文章数
- 阅读量统计
- 球员出勤率
- MVP分布

---

## 🎯 最佳实践

1. **及时发布**：比赛后24小时内发布
2. **统一风格**：使用相同模板和样式
3. **高质量照片**：使用清晰、构图好的照片
4. **简洁文字**：重点突出，段落分明
5. **互动元素**：鼓励评论和分享

---

## 📞 技术支持

遇到问题？
- 检查控制台输出
- 查看生成的HTML文件
- 确认照片文件存在

**记住**：微信公众号编辑器不支持本地文件路径，所有图片都需要上传到公众号素材库！
